(this.webpackJsonprouterdemo=this.webpackJsonprouterdemo||[]).push([[0],{188:function(e,t,a){e.exports=a(382)},193:function(e,t,a){},194:function(e,t,a){},382:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(4),o=a.n(l),c=(a(193),a(15)),s=a(16),i=a(18),u=a(17),m=(a(194),function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"buyCar"),r.a.createElement("h2",null,"Select your role"),r.a.createElement("h3",null,"if you didn't login it will jump to login after your choice then back this page"),r.a.createElement("ul",{role:"nav"},r.a.createElement("li",null,r.a.createElement("a",{href:"/customer"},"customer")),r.a.createElement("li",null,r.a.createElement("a",{href:"/saler"},"salerman")),r.a.createElement("li",null,r.a.createElement("a",{href:"/admin"},"admin"))),r.a.createElement("h2",null,r.a.createElement("a",{href:"/logout"},"logout")),r.a.createElement("h2",null,"Or create new account"))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(131),h=a(50),p=a(23),f="http://localhost:8080",y=a(49),E=a(184),v=a(39),b=a(388),g=(a(71),y.a.Option),k=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={myself:{},msg:[],user:[],targetId:{},textToSent:"",sent:!1},n.onSelectChange=n.onSelectChange.bind(Object(p.a)(n)),n.onTextChange=n.onTextChange.bind(Object(p.a)(n)),n.onSendClick=n.onSendClick.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;console.log(this.props.getUserBy),fetch("".concat(f,"/api/user/").concat(this.props.getUserBy)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({myself:t}),e.setState({msg:t.messages})})),fetch("".concat(f,"/api/user")).then((function(e){return e.json()})).then((function(t){var a=e.props.toUser,n=[];t.map((function(e){e.role==a&&n.push(e)})),e.setState({user:n})}))}},{key:"onSelectChange",value:function(e){this.setState({targetId:e})}},{key:"onTextChange",value:function(e){var t=e.target.value;this.setState({textToSent:t})}},{key:"onSendClick",value:function(e){var t=this,a=this.state.myself,n=this.state.user[this.state.targetId],r={},l="".concat(a.name,"@").concat(n.name,": ").concat(this.state.textToSent);"Salesman"==this.props.toUser?r={text:l,customer:a,salesman:n}:"Customer"==this.props.toUser&&(r={text:l,customer:n,salesman:a}),console.log(r),console.log(r),fetch("".concat(f,"/api/message"),{body:JSON.stringify(r),cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"POST",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then((function(e){return console.log(e.json())})),this.setState({sent:!0}),setTimeout((function(){t.setState({sent:!1})}),2e3)}},{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",null,r.a.createElement("h1",null,"Hi ",this.state.myself.name," you have message"),r.a.createElement("ul",null,this.state.msg.map((function(e){return r.a.createElement("li",{key:e.id},e.text)}))),r.a.createElement(y.a,{style:{width:120},onChange:this.onSelectChange},this.state.user.map((function(e,t){return r.a.createElement(g,{key:t},e.name)}))),r.a.createElement(E.a,{style:{width:520},placeholder:"massage",onChange:this.onTextChange}),r.a.createElement(v.a,{type:"primary",onClick:this.onSendClick},"Send"),e.state.sent?r.a.createElement(b.a,{message:"Send Plz refresh",type:"success"}):r.a.createElement("div",null))}}]),a}(n.Component),j=a(383),S=a(384),O=a(389),C=a(390),M=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={CarModel:[],DataSource:[],SelectedItem:{}},n.ItemSelected=n.ItemSelected.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];fetch("".concat(f,"/api/carmodel")).then((function(e){return e.json()})).then((function(a){e.setState({CarModel:a}),console.log(a),a.map((function(e){t.push(e.name)}))})).then((function(){return e.setState({DataSource:t})}))}},{key:"ItemSelected",value:function(e,t){var a=this;this.state.CarModel.map((function(t){t.name===e&&(console.log(t),a.setState({SelectedItem:t}))}))}},{key:"render",value:function(){var e=this.state.SelectedItem;return r.a.createElement("div",null,r.a.createElement(j.a,null,r.a.createElement(S.a,null,r.a.createElement(O.a,{dataSource:this.state.DataSource,onSelect:this.ItemSelected})),r.a.createElement(S.a,null,r.a.createElement(C.a,null,r.a.createElement(C.a.Item,{label:"Name"},e.name),r.a.createElement(C.a.Item,{label:"Color"},e.color),r.a.createElement(C.a.Item,{label:"VIN"},e.vin),r.a.createElement(C.a.Item,{label:"Type"},e.type)))))}}]),a}(n.Component),I=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={saler:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f,"/api/salesman")).then((function(e){return e.json()})).then((function(t){console.log("myJson",t),e.setState({saler:t})}))}},{key:"render",value:function(){var e=this.state.saler;return r.a.createElement("div",null,e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h1",null,e.name),e.carModels.map((function(e){return r.a.createElement(j.a,null,r.a.createElement(S.a,{span:2},e.name),r.a.createElement(S.a,{span:2},e.type),r.a.createElement(S.a,{span:2},e.color))})))})))}}]),a}(n.Component),w=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Customer"),r.a.createElement(k,{toUser:"Salesman",getUserBy:"profile"}),r.a.createElement("h1",null,"Search car"),r.a.createElement(M,null),r.a.createElement("h1",null,"Saler list"),r.a.createElement(I,null))}}]),a}(n.Component),D=a(387),x=a(6),P=y.a.Option;var T=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){if(!t){var n=a;n.id=e.props.sId[0],console.log("Received values of form: ",n),e.postData(a)}}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"postData",value:function(e){var t=this;fetch("".concat(f,"/api/user/").concat(this.props.sId[0]),{body:JSON.stringify(e),cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"PUT",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then((function(e){console.log(e.json()),t.props.updateList()}))}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,l=t.getFieldError,o=t.isFieldTouched,c=o("username")&&l("username"),s=o("password")&&l("password"),i=o("email")&&l("email"),u=o("phone")&&l("phone"),m=o("name")&&l("name");return r.a.createElement(D.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(D.a.Item,null,a("role",{rules:[{required:!0,message:"Please select role!"}],initialValue:"Salesman"})(r.a.createElement(y.a,{style:{width:120}},r.a.createElement(P,{value:"Salesman"},"Salesman"),r.a.createElement(P,{value:"Customer"},"Customer")))),r.a.createElement(D.a.Item,{validateStatus:c?"error":"",help:c||""},a("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(D.a.Item,{validateStatus:s?"error":"",help:s||""},a("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(x.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(D.a.Item,{validateStatus:i?"error":"",help:i||""},a("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(E.a,{placeholder:"email"}))),r.a.createElement(D.a.Item,{validateStatus:u?"error":"",help:u||""},a("phone",{rules:[{required:!0,message:"Please input your phone!"}]})(r.a.createElement(E.a,{placeholder:"phone"}))),r.a.createElement(D.a.Item,{validateStatus:m?"error":"",help:m||""},a("name",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(E.a,{placeholder:"name"}))),r.a.createElement(D.a.Item,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",disabled:(e=n(),Object.keys(e).some((function(t){return e[t]})))},"Update")))}}]),a}(n.Component),N=D.a.create({name:"horizontal_login"})(T),F=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={saler:{},modellist:[],selectIdx:0},n.loadself=n.loadself.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(f).concat("/api/salesman/id/19")).then((function(e){return e.json()})).then((function(t){console.log("myJson",t.carModels),e.setState({saler:t}),e.setState({modellist:t.carModels})}))}},{key:"loadself",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.saler,a=e.modellist;return console.log("saler",t),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h1",null,t.name),a.map((function(e){return r.a.createElement(j.a,null,r.a.createElement(S.a,{span:2},e.name),r.a.createElement(S.a,{span:2},e.type),r.a.createElement(S.a,{span:2},e.color))}))))}}]),a}(n.Component),L=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"saler"),r.a.createElement(k,{toUser:"Customer",getUserBy:"profile"}),r.a.createElement(F,{forSaler:!1}))}}]),a}(n.Component),U=a(386),q=y.a.Option;var R=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,a){t||e.postData(a)}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"postData",value:function(e){var t=this;fetch("".concat(f,"/api/user"),{body:JSON.stringify(e),cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"POST",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then((function(){return t.props.updateList()}))}},{key:"render",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,l=t.getFieldError,o=t.isFieldTouched,c=o("username")&&l("username"),s=o("password")&&l("password"),i=o("email")&&l("email"),u=o("phone")&&l("phone"),m=o("name")&&l("name");return r.a.createElement(D.a,{layout:"inline",onSubmit:this.handleSubmit},r.a.createElement(D.a.Item,null,a("role",{rules:[{required:!0,message:"Please select role!"}],initialValue:"Salesman"})(r.a.createElement(y.a,{style:{width:120}},r.a.createElement(q,{value:"Salesman"},"Salesman"),r.a.createElement(q,{value:"Customer"},"Customer")))),r.a.createElement(D.a.Item,{validateStatus:c?"error":"",help:c||""},a("username",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(x.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),r.a.createElement(D.a.Item,{validateStatus:s?"error":"",help:s||""},a("password",{rules:[{required:!0,message:"Please input your Password!"}]})(r.a.createElement(E.a,{prefix:r.a.createElement(x.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),r.a.createElement(D.a.Item,{validateStatus:i?"error":"",help:i||""},a("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(E.a,{placeholder:"email"}))),r.a.createElement(D.a.Item,{validateStatus:u?"error":"",help:u||""},a("phone",{rules:[{required:!0,message:"Please input your phone!"}]})(r.a.createElement(E.a,{placeholder:"phone"}))),r.a.createElement(D.a.Item,{validateStatus:m?"error":"",help:m||""},a("name",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(E.a,{placeholder:"name"}))),r.a.createElement(D.a.Item,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",disabled:(e=n(),Object.keys(e).some((function(t){return e[t]})))},"Create")))}}]),a}(n.Component),z=D.a.create({name:"horizontal_login"})(R),J=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onSelectedRowKeysChange=function(e){n.setState({selectedRowKeys:e})},n.state={data:[],selectedRowKeys:[]},n.updateData=n.updateData.bind(Object(p.a)(n)),n.onDeleteClick=n.onDeleteClick.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"updateData",value:function(){var e=this;fetch("".concat(f,"/api/user")).then((function(e){return e.json()})).then((function(t){console.log(t),t.map((function(e){e.key=e.id})),e.setState({data:t})}))}},{key:"componentDidMount",value:function(){this.updateData()}},{key:"onDeleteClick",value:function(e){var t=this;console.log(this.state.selectedRowKeys),fetch("".concat(f,"/api/user/").concat(this.state.selectedRowKeys[0]),{body:"",cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"DELETE",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then((function(){t.updateData()}))}},{key:"render",value:function(){var e=this.state.data,t=[{title:"id",dataIndex:"id",key:"id",render:function(e){return r.a.createElement("a",null,e)}},{title:"username",dataIndex:"username",key:"username",render:function(e){return r.a.createElement("a",null,e)}},{title:"password",dataIndex:"password",key:"password",render:function(e){return r.a.createElement("a",null,e)}},{title:"name",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("a",null,e)}},{title:"email",dataIndex:"email",key:"email",render:function(e){return r.a.createElement("a",null,e)}},{title:"phone",dataIndex:"phone",key:"phone",render:function(e){return r.a.createElement("a",null,e)}},{title:"role",dataIndex:"role",key:"role",render:function(e){return r.a.createElement("a",null,e)}}],a={type:"radio",onChange:this.onSelectedRowKeysChange};return r.a.createElement("div",null,r.a.createElement(U.a,{rowSelection:a,columns:t,dataSource:e}),r.a.createElement("h2",null,"Update/Delete"),r.a.createElement(j.a,null,r.a.createElement(S.a,{span:16},r.a.createElement(N,{sId:this.state.selectedRowKeys,updateList:this.updateData})),r.a.createElement(S.a,{span:3},r.a.createElement(v.a,{type:"danger",onClick:this.onDeleteClick},"Delete"))),r.a.createElement("h2",null,"create"),r.a.createElement(z,{updateList:this.updateData}))}}]),a}(n.Component),K=a(385),V=a(183),B=a.n(V),_=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={showTable:!1,maker:"",Country:"",CarModelList:[]},n.onFatchClicked=n.onFatchClicked.bind(Object(p.a)(n)),n.onCloseClicked=n.onCloseClicked.bind(Object(p.a)(n)),n.onMakerchenged=n.onMakerchenged.bind(Object(p.a)(n)),n.onContrychenged=n.onContrychenged.bind(Object(p.a)(n)),n.LodeModel=n.LodeModel.bind(Object(p.a)(n)),n.PostMakeModel=n.PostMakeModel.bind(Object(p.a)(n)),n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"PostMakeModel",value:function(e){fetch("".concat(f,"/api/maker/").concat(this.state.maker,"/").concat(this.state.Country,"/importall"),{body:JSON.stringify(e),cache:"no-cache",credentials:"same-origin",headers:{"user-agent":"Mozilla/4.0 MDN Example","content-type":"application/json"},method:"POST",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then((function(e){return console.log(e.json())}))}},{key:"LodeModel",value:function(e){var t=this;console.log(e),fetch("https://vpic.nhtsa.dot.gov/api/vehicles/getmodelsformake/".concat(e,"?format=json")).then((function(e){return console.log(e),e.json()})).then((function(e){var a=[],n=e.Results;console.log(n),n.map((function(e){a.push({name:e.Model_Name,year:2020,color:"white",VIN:B()(e.Model_Name),type:"Sadam"})})),t.setState({CarModelList:a})})).then((function(){console.log(t.state.Country),t.PostMakeModel(t.state.CarModelList)}))}},{key:"onFatchClicked",value:function(){this.LodeModel(this.state.maker)}},{key:"onCloseClicked",value:function(){this.setState({showTable:!1})}},{key:"onMakerchenged",value:function(e){var t=e.target.value;this.setState({maker:t})}},{key:"onContrychenged",value:function(e){var t=e.target.value;this.setState({Country:t})}},{key:"render",value:function(){var e=[{title:"name",dataIndex:"name",key:"name",render:function(e){return r.a.createElement("a",null,e)}},{title:"year",dataIndex:"year",key:"year",render:function(e){return r.a.createElement("a",null,e)}},{title:"color",dataIndex:"color",key:"color",render:function(e){return r.a.createElement("a",null,e)}},{title:"VIN",dataIndex:"VIN",key:"VIN",render:function(e){return r.a.createElement("a",null,e)}},{title:"type",dataIndex:"type",key:"type",render:function(e){return r.a.createElement("a",null,e)}}];return r.a.createElement("div",null,r.a.createElement(K.a,{type:"vertical"}),r.a.createElement(j.a,null,r.a.createElement("h1",null,"Create Maker and Load Model")),r.a.createElement(j.a,null,r.a.createElement(S.a,{span:1},r.a.createElement("h3",null," Maker:")),r.a.createElement(S.a,{span:2},r.a.createElement(E.a,{placeholder:"maker name",onChange:this.onMakerchenged})),r.a.createElement(S.a,{span:1},r.a.createElement("h3",null," Country:")),r.a.createElement(S.a,{span:2},r.a.createElement(E.a,{placeholder:"Country",onChange:this.onContrychenged})),r.a.createElement(S.a,{span:1},r.a.createElement(v.a,{type:"primary",onClick:this.onFatchClicked},"fetch")),r.a.createElement(S.a,{span:this.state.showTable?2:0},r.a.createElement(v.a,{type:"danger",onClick:this.onCloseClicked},"close table"))),r.a.createElement(j.a,null,r.a.createElement(S.a,{span:this.state.showTable?24:0},r.a.createElement(U.a,{columns:e,dataSource:this.state.CarModelList}))))}}]),a}(n.Component),A=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"admin"),r.a.createElement(J,null),r.a.createElement(_,null))}}]),a}(n.Component),W=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:Object(h.f)(m)}),r.a.createElement(h.a,{exact:!0,path:"/customer",component:Object(h.f)(w)}),r.a.createElement(h.a,{exact:!0,path:"/saler",component:Object(h.f)(L)}),r.a.createElement(h.a,{exact:!0,path:"/admin",component:Object(h.f)(A)})))}}]),a}(n.Component);o.a.render(r.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[188,1,2]]]);
//# sourceMappingURL=main.fb54ef33.chunk.js.map